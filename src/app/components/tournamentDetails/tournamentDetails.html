<div class="page-header page-header-custom" layout="row" layout-align="start center">
    <md-button class="md-icon-button" aria-label="Volver" ng-click="$ctrl.goBack()">
        <md-icon>arrow_back</md-icon>
        <md-tooltip>Volver</md-tooltip>
    </md-button>
    <h1>{{$ctrl.tournament.name}}</h1>
    <span flex></span>
        <md-button class="md-icon-button" aria-label="Editar" ng-link="['/TournamentEdit', {id: $ctrl.tournament.id}]">
            <md-icon>edit</md-icon>
            <md-tooltip>Editar</md-tooltip>
        </md-button>
    <md-button class="md-icon-button" aria-label="Eliminar" ng-click="$ctrl.delete($event)">
        <md-icon>delete</md-icon>
        <md-tooltip>Eliminar</md-tooltip>
    </md-button>
</div>

    <div layout="row">
        <div class="md-body-2" flex="35" flex-gt-lg="20">Fecha Comienzo</div>
        <div flex>{{$ctrl.tournament.startDateTime | date: 'longDate'}}</div>
    </div>
<br>

<md-list>
    <md-list-item ng-click="$ctrl.navigate(['/Categories', {tournamentId: $ctrl.tournament.id}])">
        <strong>Categorias</strong>
        <span>&nbsp;({{$ctrl.tournament.categories.length}})</span>
    </md-list-item>
    <md-list-item ng-click="$ctrl.navigate(['/Events', {tournamentId: $ctrl.tournament.id}])">
        <strong>Pruebas</strong>
        <span>&nbsp;({{$ctrl.tournament.events.length}})</span>
    </md-list-item>
    <!--<md-list-item ng-click="$ctrl.navigate(['/TournamentSwimmers', {tournamentId: $ctrl.tournament.id}])">
        <strong>Nadadores</strong>
        <span>&nbsp;({{$ctrl.tournament.swimmerIds.length}})</span>
    </md-list-item>-->
</md-list>

<md-tabs md-dynamic-height md-border-bottom md-selected="$ctrl.selectedTabIndex">
    <md-tab label="Nadadores">
       <md-content>
            <tournament-swimmers2 tournament="$ctrl.tournament" on-update="$ctrl.refresh()"  on-delete="$ctrl.removeSwimmer($event, swimmer)"></tournament-swimmers2>
       </md-content>
    </md-tab>
</md-tabs>

<!--<md-content layout-padding>
    <div layout="row" layout-align="center center">
        <h2>Categorias</h2>
        <span>&nbsp;({{$ctrl.tournament.categories.length}})</span>
        <span flex></span>
        <md-button class="md-icon-button" aria-label="Editar" ng-click="$ctrl.navigateTo('/tournaments/'+$ctrl.tournament.id+'/categories/')">
            <md-icon>edit</md-icon>
            <md-tooltip>Editar</md-tooltip>
        </md-button>
    </div>
    <p ng-if="$ctrl.tournament.categories.length == 0">No se encontraron datos</p>
    <md-list ng-if="$ctrl.tournament.categories.length > 0">
        <md-divider></md-divider>
        <md-list-item ng-repeat="category in $ctrl.tournament.categories">
            <p>{{category.name}}</p>
            <p>{{category.typeDescription}}</p>
            <p>{{category.from}}</p>
            <p>{{category.to}}</p>
            <md-divider></md-divider>
        </md-list-item>
    </md-list>
</md-content>
<br>
<md-content layout-padding>
    <div layout="row" layout-align="center center">
        <h2>Pruebas</h2>
        <span>&nbsp;({{$ctrl.tournament.events.length}})</span>
        <span flex></span>
        <md-button class="md-icon-button" aria-label="Editar" ng-click="$ctrl.navigateTo('/tournaments/'+$ctrl.tournament.id+'/events/')">
            <md-icon>edit</md-icon>
            <md-tooltip>Editar</md-tooltip>
        </md-button>
    </div>
    <p ng-if="$ctrl.tournament.events.length == 0">No se encontraron datos</p>
    <md-list ng-if="$ctrl.tournament.events.length > 0">
        <md-divider></md-divider>
        <md-list-item ng-repeat="event in $ctrl.tournament.events">
            <p>{{event.number}}</p>
            <p>{{event.distance}}</p>
            <p>{{event.style}}</p>
            <p>{{event.category.name}}</p>
            <p>{{event.genderDescription}}</p>
            <md-divider></md-divider>
        </md-list-item>
    </md-list>
</md-content>
<br>
<md-content layout-padding>
    <div layout="row" layout-align="center center">
        <h2>Nadadores</h2>
        <span>&nbsp;({{$ctrl.tournament.swimmers.length}})</span>
        <span flex></span>
        <md-button class="md-icon-button" aria-label="Editar" ng-click="$ctrl.assignCategories()">
            <md-icon>import_export</md-icon>
            <md-tooltip>Asignar Categorias</md-tooltip>
        </md-button>
        <md-button class="md-icon-button" aria-label="Editar" ng-click="$ctrl.navigateTo('/tournaments/'+$ctrl.tournament.id+'/swimmers/')">
            <md-icon>edit</md-icon>
            <md-tooltip>Editar</md-tooltip>
        </md-button>
    </div>
    <p ng-if="$ctrl.tournament.swimmers.length == 0">No se encontraron datos</p>
    <md-list ng-if="$ctrl.tournament.swimmers.length > 0">
        <md-divider></md-divider>
        <md-list-item ng-repeat="swimmer in $ctrl.tournament.swimmers">
            <p>{{swimmer.fullName}}</p>
            <p>{{swimmer.birthDate | date: 'shortDate'}}</p>
            <p>{{swimmer.age}}</p>
            <p>{{swimmer.genderDescription}}</p>
            <p>{{swimmer.nid ? swimmer.nid : '-'}}</p>
            <md-divider></md-divider>
        </md-list-item>
    </md-list>
</md-content>-->